# Telegram Channel Auto-Reposter

Автоматический репостер постов из чужого Telegram канала в ваш канал с заменой рекламных ссылок.

## Возможности

- ✅ Мониторинг чужого канала в реальном времени
- ✅ Автоматическое удаление рекламных ссылок
- ✅ Добавление ссылки на ваш канал
- ✅ Репост медиа (фото, документы)
- ✅ Минимальная задержка (1-2 минуты)
- ✅ Логирование всех операций

## Установка

1. Установите Python 3.8 или выше

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Настройка

1. Получите API данные:
   - Перейдите на https://my.telegram.org/apps
   - Войдите с вашим номером телефона (введите номер в формате +79991234567)
   - Введите код подтверждения, который придет в Telegram
   - После входа вы увидите страницу "App configuration"
   - Если у вас еще нет приложения, нажмите кнопку "Create new application"
     * Введите название приложения (любое, например "Reposter")
     * Введите короткое имя (любое, например "reposter")
     * Остальные поля можно оставить пустыми
     * Нажмите "Create"
   - На странице вы увидите два поля:
     * **App api_id** - это число (например: 12345678) - скопируйте его
     * **App api_hash** - это строка из букв и цифр (например: abcdef1234567890abcdef...) - скопируйте её

2. Откройте `config.py` и заполните:
   - `API_ID` - ваш API ID
   - `API_HASH` - ваш API Hash
   - `SOURCE_CHANNEL` - username чужого канала (например: `@source_channel`)
   - `TARGET_CHANNEL` - username вашего канала (например: `@your_channel`)
   - `YOUR_CHANNEL_LINK` - ссылка на ваш канал (например: `https://t.me/your_channel`)
   - `CHECK_INTERVAL` - интервал проверки в секундах (рекомендуется 10-30)

3. Убедитесь, что:
   - Ваш аккаунт подписан на исходный канал
   - У вас есть права на публикацию в целевом канале (вы должны быть администратором)

## Запуск

```bash
python telegram_reposter.py
```

При первом запуске вам нужно будет:
1. Ввести номер телефона
2. Ввести код подтверждения из Telegram
3. При необходимости ввести пароль двухфакторной аутентификации

После этого сессия сохранится и повторного ввода не потребуется.

## Как это работает

1. Бот подключается к Telegram через Telethon
2. Мониторит исходный канал в реальном времени
3. При появлении нового поста:
   - Извлекает текст и медиа
   - Удаляет все ссылки на Telegram каналы/боты
   - Добавляет ссылку на ваш канал в конец
   - Публикует в ваш канал
4. Дополнительно проверяет канал каждые N секунд (на случай пропуска событий)

## Логирование

Все операции записываются в файл `reposter.log` и выводятся в консоль.

## Важные замечания

⚠️ **Соблюдайте авторские права!** Убедитесь, что у вас есть право на репост контента.

⚠️ **Не злоупотребляйте!** Слишком частые проверки могут привести к ограничениям API.

⚠️ **Безопасность:** Не публикуйте `config.py` с вашими данными в открытом доступе.

## Оптимизация для минимальной задержки

- Установите `CHECK_INTERVAL = 10` (10 секунд) для быстрой проверки
- Используйте стабильное интернет-соединение
- Запускайте бота на сервере с хорошим пингом к серверам Telegram
- Мониторинг в реальном времени через события обеспечивает минимальную задержку

## Решение проблем

**Ошибка доступа к каналу:**
- Проверьте правильность username каналов
- Убедитесь, что вы подписаны на исходный канал
- Убедитесь, что у вас есть права администратора в целевом канале

**Бот не репостит:**
- Проверьте логи в `reposter.log`
- Убедитесь, что в исходном канале есть новые посты
- Проверьте настройки в `config.py`

**Ошибка авторизации:**
- Удалите файл `reposter_session.session` и запустите заново
- Проверьте правильность API_ID и API_HASH


